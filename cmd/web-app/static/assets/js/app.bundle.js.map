{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils.js","webpack:///./src/index.js","webpack:///./src/css/style.scss?7be5","webpack:///./src/css/style.scss","webpack:///./src/css/tile.scss?280b","webpack:///./src/css/tile.scss","webpack:///./src/controllers sync \\.js$","webpack:///./src/controllers/layout_controller.js","webpack:///./src/controllers/login_controller.js","webpack:///./src/controllers/payment_controller.js","webpack:///./src/controllers/prepPromo_controller.js","webpack:///./src/controllers/root_controller.js","webpack:///./src/controllers/subscription_controller.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","hide","el","classList","add","show","remove","application","Application","start","context","require","load","definitionsFromContext","content","options","transform","undefined","locals","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","this","navbarIsOpened","$","navbarTarget","slideUp","slideDown","Controller","list","alert","loading","subject_id","class_id","that","axios","post","resp","error","PaystackPop","setup","email","student","parent_email","amount","currency","ref","metadata","custom_fields","display_name","variable_name","parent_phone","callback","response","a","items","reference","location","reload","onClose","openIframe","classes","subjects","Array","forEach","subjectTarget","opt","label","innerText","classTarget","subjectID","classID","_","find","item","subject","selectedIndex","className","displayList","evt","currentTarget","getAttribute","_this","listTblTarget","innerHTML","cartTotal","exRow","document","importNode","itemTemplateTarget","fields","querySelectorAll","appendChild","count","fives","threes","cartTotalTarget","textContent","savings","savingsPercentage","savingsTarget","toFixed","cartItemDivTarget","preventDefault","nameTarget","phoneTarget","emailTarget","href","console","log","messageTarget","details","regNoTarget","startDateTarget","endDateTarget","then","err"],"mappings":"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","file":"js/app.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/js/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([32,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export const appName = 'dcrextdata'\n\nexport const hide = (el) => {\n  el.classList.add('d-none')\n  el.classList.add('d-hide')\n}\n\nexport const hideAll = (els) => {\n  els.forEach(el => {\n    el.classList.add('d-none')\n    el.classList.add('d-hide')\n  })\n}\n\nexport const show = (el) => {\n  el.classList.remove('d-none')\n  el.classList.remove('d-hide')\n}\n\nexport const showAll = (els) => {\n  els.forEach(el => {\n    el.classList.remove('d-none')\n    el.classList.remove('d-hide')\n  })\n}\n\nexport const setAllValues = (targets, value) => {\n  targets.forEach(el => {\n    el.innerHTML = value\n  })\n}\n\nexport const showLoading = (loadingTarget, elementsToHide) => {\n  show(loadingTarget)\n  if (!elementsToHide || !elementsToHide.length) return\n  elementsToHide.forEach(element => {\n    hide(element)\n  })\n}\n\nexport const hideLoading = (loadingTarget, elementsToShow) => {\n  hide(loadingTarget)\n  if (!elementsToShow || !elementsToShow.length) return\n  elementsToShow.forEach(element => {\n    show(element)\n  })\n}\n\nexport const isHidden = (el) => {\n  return el.classList.contains('d-none')\n}\n\nexport var options = {\n  axes: { y: { axisLabelWidth: 100 } },\n  axisLabelFontSize: 12,\n  retainDateWindow: false,\n  showRangeSelector: true,\n  rangeSelectorHeight: 40,\n  drawPoints: true,\n  pointSize: 0.25,\n  legend: 'always',\n  labelsSeparateLines: true,\n  highlightCircleSize: 4,\n  yLabelWidth: 20,\n  drawAxesAtZero: true\n}\n\nexport function getRandomColor () {\n  const letters = '0123456789ABCDEF'\n  let color = '#'\n  for (let i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)]\n  }\n  return color\n}\n\nexport function setActiveOptionBtn (opt, optTargets) {\n  optTargets.forEach(li => {\n    if (li.dataset.option === opt) {\n      li.classList.add('active')\n    } else {\n      li.classList.remove('active')\n    }\n  })\n}\n\nexport function setActiveRecordSetBtn (opt, optTargets) {\n  optTargets.forEach(li => {\n    if (li.dataset.option === opt) {\n      li.classList.add('active')\n    } else {\n      li.classList.remove('active')\n    }\n  })\n}\n\nexport function displayPillBtnOption (opt, optTargets) {\n  optTargets.forEach(li => {\n    if (opt === 'chart' && li.dataset.option === 'both') {\n      li.classList.add('d-hide')\n    } else {\n      li.classList.remove('d-hide')\n    }\n  })\n}\n\nexport function selectedOption (optTargets) {\n  var key = false\n  optTargets.forEach((el) => {\n    if (el.classList.contains('active')) key = el.dataset.option\n  })\n  return key\n}\n\nexport function insertQueryParam (name, value) {\n  const urlParams = new URLSearchParams(window.location.search)\n  const oldValue = urlParams.get(name)\n  if (oldValue !== null) {\n    return false\n  }\n  urlParams.append(name, value)\n  const baseUrl = window.location.href.replace(window.location.search, '')\n  window.history.pushState(window.history.state, appName, `${baseUrl}?${urlParams.toString()}`)\n  return true\n}\n\nexport function updateQueryParam (name, value) {\n  let urlParams = new URLSearchParams(window.location.search)\n  if (!urlParams.has(name)) {\n    return false\n  }\n  urlParams.set(name, value)\n  const baseUrl = window.location.href.replace(window.location.search, '')\n  window.history.pushState(window.history.state, appName, `${baseUrl}?${urlParams.toString()}`)\n  return true\n}\n\nexport function insertOrUpdateQueryParam (name, value) {\n  const urlParams = new URLSearchParams(window.location.search)\n  return !urlParams.has(name) ? insertQueryParam(name, value) : updateQueryParam(name, value)\n}\n\nexport function getParameterByName (name, url) {\n  const urlParams = new URLSearchParams(window.location.search)\n  return urlParams.get(name)\n}\n\nexport function updateZoomSelector (targets, minDate, maxDate) {\n  const duration = maxDate - minDate\n  const days = duration / (1000 * 60 * 60 * 24)\n  targets.forEach(el => {\n    let showElement = false\n    switch (el.dataset.option) {\n      case 'day':\n      case 'all':\n        showElement = days >= 1\n        break\n      case 'week':\n        showElement = days >= 7\n        break\n      case 'month':\n        showElement = days >= 30\n        break\n      case 'year':\n        showElement = days >= 365\n        break\n    }\n\n    if (showElement) {\n      show(el)\n    } else {\n      hide(el)\n    }\n  })\n}\n\nexport function formatDate (date, format) {\n  if (!format || format === '') {\n    format = 'yyyy-MM-dd hh:mm'\n  }\n\n  let dd = date.getDate()\n  let mm = date.getMonth() + 1\n  let yyyy = date.getFullYear()\n  let milliseconds = date.getMilliseconds()\n  let seconds = date.getSeconds()\n  let minutes = date.getMinutes()\n  let hour = date.getHours()\n\n  if (dd < 10) {\n    dd = '0' + dd\n  }\n\n  if (mm < 10) {\n    mm = '0' + mm\n  }\n\n  if (hour < 10) {\n    hour = '0' + hour\n  }\n\n  if (minutes < 10) {\n    minutes = '0' + minutes\n  }\n\n  if (seconds < 10) {\n    seconds = '0' + seconds\n  }\n\n  let dateFormatted = format.replace('yyyy', yyyy).replace('MM', mm).replace('dd', dd)\n  dateFormatted = dateFormatted.replace('hh', hour).replace('mm', minutes)\n  dateFormatted = dateFormatted.replace('ss', seconds).replace('sss', milliseconds)\n  return dateFormatted\n}\n\nexport function getNumberOfPages (recordsCount, pageSize) {\n  const rem = recordsCount % pageSize\n  let pageCount = (recordsCount - rem) / pageSize\n  if (rem > 0) {\n    pageCount += 1\n  }\n  return pageCount\n}\n","import { Application } from 'stimulus'\nimport { definitionsFromContext } from 'stimulus/webpack-helpers'\nimport './css/style.scss'\nimport './css/tile.scss'\n\nconst application = Application.start()\nconst context = require.context('./controllers', true, /\\.js$/)\napplication.load(definitionsFromContext(context))\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js??ref--5-2!../../node_modules/sass-loader/dist/cjs.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js??ref--5-2!../../node_modules/sass-loader/dist/cjs.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js??ref--5-2!../../node_modules/sass-loader/dist/cjs.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".body-block{font-size:5px}\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js??ref--5-2!../../node_modules/sass-loader/dist/cjs.js!./tile.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js??ref--5-2!../../node_modules/sass-loader/dist/cjs.js!./tile.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js??ref--5-2!../../node_modules/sass-loader/dist/cjs.js!./tile.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".tile{width:100%;display:inline-block;box-sizing:border-box;background:#fff;padding:20px;margin-bottom:10px}.tile .title{margin-top:0}.tile p,.tile span,.tile a,.tile ul,.tile li,.tile button{font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit}.tile h1,.tile h2,.tile h3,.tile h4,.tile h5,.tile h6{font-family:\\\"Open Sans\\\",\\\"Segoe UI\\\",Frutiger,\\\"Frutiger Linotype\\\",\\\"Dejavu Sans\\\",\\\"Helvetica Neue\\\",Arial,sans-serif;line-height:1.5em;font-weight:300}.tile strong{font-weight:400}.tile.purple,.tile.blue,.tile.red,.tile.orange,.tile.green{color:#fff}.tile.gray{background:#eee;color:black}.tile.gray:hover{background:#e1e1e1}.tile.purple{background:#5133ab}.tile.purple:hover{background:#3e2784}.tile.red{background:#ac193d}.tile.red:hover{background:#7f132d}.tile.green{background:#00a600}.tile.green:hover{background:#007300}.tile.blue{background:#2672ec}.tile.blue:hover{background:#125acd}.tile.orange{background:#dc572e}.tile.orange:hover{background:#b8431f}\\n\", \"\"]);\n\n","var map = {\n\t\"./layout_controller.js\": 40,\n\t\"./login_controller.js\": 43,\n\t\"./payment_controller.js\": 62,\n\t\"./prepPromo_controller.js\": 64,\n\t\"./root_controller.js\": 65,\n\t\"./subscription_controller.js\": 66\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import { Controller } from 'stimulus'\n\nexport default class extends Controller {\n  navbarIsOpened\n\n  static get targets () {\n    return [\n      'navbar'\n    ]\n  }\n\n  toggleNavbar () {\n    if (!this.navbarIsOpened) {\n      $(this.navbarTarget).slideDown()\n    } else {\n      $(this.navbarTarget).slideUp()\n    }\n    this.navbarIsOpened = !this.navbarIsOpened\n  }\n}\n","import { Controller } from 'stimulus'\nimport axios from 'axios'\n\nexport default class extends Controller {\n  static get targets () {\n    return [\n      'username', 'password'\n    ]\n  }\n\n  async subscribe () {\n    if (this.list.length === 0) {\n      window.alert('Please add a subject, period amd class to continue')\n      return\n    }\n\n    if (this.loading) return\n    this.loading = true\n\n    const req = {\n      'count': this.list.length,\n      'subject_id': this.list[0].subject_id,\n      'class_id': this.list[0].class_id\n    }\n    const that = this\n    const resp = await axios.post('/payments/initiate', req)\n    const result = resp.data\n    if (result.error) {\n      window.alert(result.error)\n      that.loading = false\n      return\n    }\n    // eslint-disable-next-line no-undef\n    var handler = PaystackPop.setup({\n      key: 'pk_live_a669ccbde1c4d5509b6565af1131f87ea1af5ab6',\n      // key: 'pk_test_6e0424ff8e08138c2fcce3f4f2b05052c4b3f77c',\n      email: result.student.parent_email,\n      amount: result.amount,\n      currency: 'NGN',\n      ref: result.id,\n      metadata: {\n        custom_fields: [\n          {\n            display_name: 'Mobile Number',\n            variable_name: 'mobile_number',\n            value: result.student.parent_phone\n          }\n        ]\n      },\n      callback: async function (response) {\n        let items = []\n        for (let i = 0; i < that.list.length; i++) {\n          items.push({\n            'subject_id': that.list[i].subject_id,\n            'class_id': that.list[i].class_id\n          })\n        }\n        const resp = await axios.post(`/payments/${response.reference}/update-status`, { 'items': items })\n        const result = resp.data\n        if (result.error) {\n          that.loading = false\n          window.alert(result.error)\n        }\n        window.alert('Success. Subscription successful, check the subscription table for your lesson\\' start date')\n        // todo: mark payment as succeded and reload the page with a pop for selecting subject and period\n        window.location.reload()\n      },\n      onClose: function () {\n        that.loading = false\n        window.alert('window closed')\n      }\n    })\n    handler.openIframe()\n  }\n}\n","import { Controller } from 'stimulus'\nimport axios from 'axios'\nimport { hide, show } from '../utils'\nimport _ from 'lodash-es'\n\nexport default class extends Controller {\n  list\n  subjects\n  classes\n\n  static get targets () {\n    return [\n      'class', 'subject', 'cartItemDiv', 'listTbl', 'itemTemplate', 'cartTotal', 'savings'\n    ]\n  }\n\n  connect () {\n    this.list = []\n    this.classes = []\n    this.subjects = []\n    const that = this\n    Array.prototype.forEach.call(this.subjectTarget.options, function (opt) {\n      if (opt.value === '') return\n      that.subjects.push({\n        id: opt.value,\n        label: opt.innerText\n      })\n    })\n    Array.prototype.forEach.call(this.classTarget.options, function (opt) {\n      if (opt.value === '') return\n      that.classes.push({\n        id: opt.value,\n        label: opt.innerText\n      })\n    })\n  }\n\n  addToList () {\n    const subjectID = this.subjectTarget.value\n    const classID = this.classTarget.value\n    if (subjectID === '' || classID === '') {\n      window.alert('Subject, period amd class are required')\n      return\n    }\n\n    let id = subjectID + classID\n    if (_.find(this.list, function (item) {\n      return item.id === id\n    })) {\n      window.alert('Select subject exists for the specified period and class')\n      return\n    }\n\n    this.list.push({\n      id: id,\n      subject_id: subjectID,\n      class_id: classID,\n      subject: this.subjectTarget.options[this.subjectTarget.selectedIndex].innerText,\n      className: this.classTarget.options[this.classTarget.selectedIndex].innerText\n    })\n\n    this.displayList()\n\n    this.subjectTarget.value = ''\n  }\n\n  removeFromList (evt) {\n    let id = evt.currentTarget.getAttribute('data-id')\n    _.remove(this.list, function (item) {\n      return item.id === id\n    })\n    this.displayList()\n  }\n\n  displayList () {\n    const _this = this\n    this.listTblTarget.innerHTML = ''\n    this.cartTotal = 0\n\n    this.list.forEach((item, i) => {\n      const exRow = document.importNode(_this.itemTemplateTarget.content, true)\n      const fields = exRow.querySelectorAll('td')\n\n      fields[0].innerText = i + 1\n      fields[1].innerText = item.className\n      fields[2].innerText = item.subject\n      fields[3].innerHTML = `<button data-action=\"click->payment#removeFromList\" data-id=\"${item.id}\">Remove</button>`\n\n      _this.listTblTarget.appendChild(exRow)\n    })\n\n    let count = this.list.length\n    if (count >= 5) {\n      let fives = (count - count % 5) / 5\n      this.cartTotal = 15000 * fives\n      count -= fives * 5\n    }\n    if (count >= 3) {\n      let threes = (count - count % 3) / 3\n      this.cartTotal += 12000 * threes\n      count -= threes * 3\n    }\n    this.cartTotal += (count * 5000)\n\n    this.cartTotalTarget.textContent = this.cartTotal\n    let savings = (this.list.length * 5000) - this.cartTotal\n    let savingsPercentage = 100 * savings / this.cartTotal\n\n    this.savingsTarget.textContent = `${savings} (${savingsPercentage.toFixed(0)}%)`\n    if (this.list.length > 0) {\n      show(this.cartItemDivTarget)\n    } else {\n      hide(this.cartItemDivTarget)\n    }\n  }\n\n  async subscribe () {\n    if (this.list.length === 0) {\n      window.alert('Please add a subject, period amd class to continue')\n      return\n    }\n\n    if (this.loading) return\n    this.loading = true\n\n    const req = {\n      'count': this.list.length,\n      'subject_id': this.list[0].subject_id,\n      'class_id': this.list[0].class_id\n    }\n    const that = this\n    const resp = await axios.post('/payments/initiate', req)\n    const result = resp.data\n    if (result.error) {\n      window.alert(result.error)\n      that.loading = false\n      return\n    }\n    // eslint-disable-next-line no-undef\n    var handler = PaystackPop.setup({\n      // key: 'pk_live_a669ccbde1c4d5509b6565af1131f87ea1af5ab6',\n      key: 'pk_test_6e0424ff8e08138c2fcce3f4f2b05052c4b3f77c',\n      email: result.student.parent_email,\n      amount: result.amount,\n      currency: 'NGN',\n      ref: result.id,\n      metadata: {\n        custom_fields: [\n          {\n            display_name: 'Mobile Number',\n            variable_name: 'mobile_number',\n            value: result.student.parent_phone\n          }\n        ]\n      },\n      callback: async function (response) {\n        let items = []\n        for (let i = 0; i < that.list.length; i++) {\n          items.push({\n            'subject_id': that.list[i].subject_id,\n            'class_id': that.list[i].class_id\n          })\n        }\n        const resp = await axios.post(`/payments/${response.reference}/update-status`, { 'items': items })\n        const result = resp.data\n        if (result.error) {\n          that.loading = false\n          window.alert(result.error)\n        }\n        window.alert('Success. Subscription successful, check the subscription table for your lesson\\' start date')\n        // todo: mark payment as succeded and reload the page with a pop for selecting subject and period\n        window.location.reload()\n      },\n      onClose: function () {\n        that.loading = false\n        window.alert('window closed')\n      }\n    })\n    handler.openIframe()\n  }\n}\n","import { Controller } from 'stimulus'\nimport axios from 'axios'\n\nexport default class extends Controller {\n  loading\n  static get targets () {\n    return [\n      'class', 'name', 'email', 'phone'\n    ]\n  }\n\n  async getStarted (e) {\n    e.preventDefault()\n    if (this.classTarget.value === '' || this.nameTarget.value === '' ||\n      this.phoneTarget.value === '' || this.emailTarget.value === '') {\n      window.alert('Please enter your name, email and phone number to continue')\n      return\n    }\n\n    if (this.loading) return\n    this.loading = true\n\n    const req = {\n      'class_id': this.classTarget.value,\n      'name': this.nameTarget.value,\n      'phone': this.phoneTarget.value,\n      'email': this.emailTarget.value\n    }\n    const that = this\n    try {\n      const resp = await axios.post('/api/v1/get-started', req)\n      const result = resp.data\n      if (result.error) {\n        window.alert(result.error)\n        that.loading = false\n        return\n      }\n      window.location.href = '/thank-you'\n    } catch (error) {\n      console.log(error)\n      this.loading = false\n      window.alert(error)\n    }\n  }\n}\n","import { Controller } from 'stimulus'\nimport axios from 'axios'\n\nexport default class extends Controller {\n  loading\n  static get targets () {\n    return [\n      'class', 'name', 'email', 'phone', 'message'\n    ]\n  }\n\n  async getStarted (e) {\n    e.preventDefault()\n    if (this.classTarget.value === '' || this.nameTarget.value === '' ||\n      this.phoneTarget.value === '' || this.emailTarget.value === '') {\n      window.alert('Please select your class and enter your name, email and phone number to continue')\n      return\n    }\n\n    if (this.loading) return\n    this.loading = true\n\n    const req = {\n      'class_id': this.classTarget.value,\n      'name': this.nameTarget.value,\n      'phone': this.phoneTarget.value,\n      'email': this.emailTarget.value\n    }\n    try {\n      await axios.post('/api/v1/get-started', req)\n      window.location.href = `/continue?s=${this.emailTarget.value}&t=${this.phoneTarget.value}`\n    } catch (error) {\n      this.loading = false\n      if (error.response) {\n        const data = error.response.data\n        this.messageTarget.textContent = data.details\n        window.alert(data.details)\n        return\n      }\n      window.alert('An unknown error has caused the request to fail')\n    }\n  }\n}\n","import { Controller } from 'stimulus'\nimport axios from 'axios'\nimport { hide, show } from '../utils'\nimport _ from 'lodash-es'\n\nexport default class extends Controller {\n  list\n  subjects\n  classes\n\n  static get targets () {\n    return [\n      'regNo', 'startDate', 'endDate',\n      'subject', 'cartItemDiv', 'listTbl', 'itemTemplate', 'cartTotal', 'savings'\n    ]\n  }\n\n  connect () {\n    this.list = []\n    this.subjects = []\n    const that = this\n    Array.prototype.forEach.call(this.subjectTarget.options, function (opt) {\n      if (opt.value === '') return\n      that.subjects.push({\n        id: opt.value,\n        label: opt.innerText\n      })\n    })\n  }\n\n  addToList () {\n    const subjectID = this.subjectTarget.value\n    if (subjectID === '') {\n      window.alert('Subject is required')\n      return\n    }\n\n    let id = subjectID\n    if (_.find(this.list, function (item) {\n      return item.subject_id === id\n    })) {\n      window.alert('Select subject exists')\n      return\n    }\n\n    this.list.push({\n      subject_id: subjectID,\n      subject: this.subjectTarget.options[this.subjectTarget.selectedIndex].innerText\n    })\n\n    this.displayList()\n\n    this.subjectTarget.value = ''\n  }\n\n  removeFromList (evt) {\n    let id = evt.currentTarget.getAttribute('data-id')\n    _.remove(this.list, function (item) {\n      return item.subject_id === id\n    })\n    this.displayList()\n  }\n\n  displayList () {\n    const _this = this\n    this.listTblTarget.innerHTML = ''\n    this.cartTotal = 0\n\n    this.list.forEach((item, i) => {\n      const exRow = document.importNode(_this.itemTemplateTarget.content, true)\n      const fields = exRow.querySelectorAll('td')\n\n      fields[0].innerText = i + 1\n      fields[1].innerText = item.subject\n      fields[2].innerHTML = `<button data-action=\"click->subscription#removeFromList\" data-id=\"${item.id}\">Remove</button>`\n\n      _this.listTblTarget.appendChild(exRow)\n    })\n\n    let count = this.list.length\n    if (count >= 5) {\n      let fives = (count - count % 5) / 5\n      this.cartTotal = 15000 * fives\n      count -= fives * 5\n    }\n    if (count >= 3) {\n      let threes = (count - count % 3) / 3\n      this.cartTotal += 12000 * threes\n      count -= threes * 3\n    }\n    this.cartTotal += (count * 5000)\n\n    this.cartTotalTarget.textContent = this.cartTotal\n    let savings = (this.list.length * 5000) - this.cartTotal\n    let savingsPercentage = 100 * savings / this.cartTotal\n\n    this.savingsTarget.textContent = `${savings} (${savingsPercentage.toFixed(0)}%)`\n    if (this.list.length > 0) {\n      show(this.cartItemDivTarget)\n    } else {\n      hide(this.cartItemDivTarget)\n    }\n  }\n\n  async save (e) {\n    e.preventDefault()\n    if (this.list.length === 0) {\n      window.alert('Please add a subject')\n      return\n    }\n\n    if (this.loading) return\n    this.loading = true\n\n    const req = {\n      'student_reg_no': this.regNoTarget.value,\n      'start_date': this.startDateTarget.value,\n      'end_date': this.endDateTarget.value,\n      'items': this.list.map(item => {\n        return { subject_id: item.subject_id }\n      })\n    }\n    const that = this\n    axios.post('/admin/subscriptions/create', req).then(() => {\n      window.location.href = '/admin/subscriptions'\n    }).catch(err => {\n      let error = err.response.data.details\n      that.loading = false\n      console.log(err)\n      window.alert(error)\n    })\n  }\n}\n"],"sourceRoot":""}